{"remainingRequest":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js!/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/MainPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/MainPage.vue","mtime":1610081190342},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU2VhcmNoIGZyb20gJ0AvY29tcG9uZW50cy9TZWFyY2gnOwppbXBvcnQgQm9va1Jlc3VsdHMgZnJvbSAnQC9jb21wb25lbnRzL0Jvb2tSZXN1bHRzJzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNlYXJjaDogU2VhcmNoLAogICAgJ2Jvb2stcmVzdWx0cyc6IEJvb2tSZXN1bHRzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9va3M6IFtdLAogICAgICBzS2V5OiAnJwogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYm9va3MiKSAhPSBudWxsKSB7CiAgICAgIHRoaXMuYm9va3MgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImJvb2tzIikpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImJvb2tzIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5ib29rcykpOwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoQm9vazogZnVuY3Rpb24gc2VhcmNoQm9vayhpbnB1dEJvb2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBxdWVyeVVSTCA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9ib29rcy92MS92b2x1bWVzP3E9JyArIGlucHV0Qm9vazsKICAgICAgYXhpb3MuZ2V0KHF1ZXJ5VVJMKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMuYm9va3MgPSBkYXRhLmRhdGEuaXRlbXM7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnJlc3VsdHMgPSB0cnVlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHNvcnRCb29rczogZnVuY3Rpb24gc29ydEJvb2tzKGlucHV0S2V5KSB7CiAgICAgIGlmIChpbnB1dEtleS5uYW1lID09PSAn0J3QsNC30LLQsNC90LjQtScpIHsKICAgICAgICB0aGlzLmJvb2tzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8udGl0bGUgPiBiLnZvbHVtZUluZm8udGl0bGUpIHJldHVybiAxOwogICAgICAgICAgaWYgKGEudm9sdW1lSW5mby50aXRsZSA8IGIudm9sdW1lSW5mby50aXRsZSkgcmV0dXJuIC0xOwogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChpbnB1dEtleS5uYW1lID09PSAn0JDQstGC0L7RgCcpIHsKICAgICAgICB0aGlzLmJvb2tzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8uYXV0aG9ycyA+IGIudm9sdW1lSW5mby5hdXRob3JzKSByZXR1cm4gMTsKICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8uYXV0aG9ycyA8IGIudm9sdW1lSW5mby5hdXRob3JzKSByZXR1cm4gLTE7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKGlucHV0S2V5Lm5hbWUgPT09ICfQlNCw0YLQsCcpIHsKICAgICAgICB0aGlzLmJvb2tzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8ucHVibGlzaGVkRGF0ZSA+IGIudm9sdW1lSW5mby5wdWJsaXNoZWREYXRlKSByZXR1cm4gMTsKICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8ucHVibGlzaGVkRGF0ZSA8IGIudm9sdW1lSW5mby5wdWJsaXNoZWREYXRlKSByZXR1cm4gLTE7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["MainPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAaA,OAAA,MAAA,MAAA,qBAAA;AACA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,oBAAA;AAFA,GADA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,OAAA,KAAA,IAAA,EAAA;AACA,WAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;AACA;AACA,GAfA;AAgBA,EAAA,aAhBA,2BAgBA;AACA,IAAA,cAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,KAAA,CAAA;AACA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,SADA,EACA;AAAA;;AACA,UAAA,QAAA,GAAA,mDAAA,SAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAFA,EAEA,IAFA,CAEA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAPA;AAQA,KAXA;AAYA,IAAA,SAZA,qBAYA,QAZA,EAYA;AACA,UAAA,QAAA,CAAA,IAAA,KAAA,UAAA,EAAA;AACA,aAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,UAAA,CAAA,KAAA,GAAA,CAAA,CAAA,UAAA,CAAA,KAAA,EACA,OAAA,CAAA;AACA,cAAA,CAAA,CAAA,UAAA,CAAA,KAAA,GAAA,CAAA,CAAA,UAAA,CAAA,KAAA,EACA,OAAA,CAAA,CAAA;AACA,iBAAA,CAAA;AACA,SANA;AAOA;;AACA,UAAA,QAAA,CAAA,IAAA,KAAA,OAAA,EAAA;AACA,aAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,UAAA,CAAA,OAAA,GAAA,CAAA,CAAA,UAAA,CAAA,OAAA,EACA,OAAA,CAAA;AACA,cAAA,CAAA,CAAA,UAAA,CAAA,OAAA,GAAA,CAAA,CAAA,UAAA,CAAA,OAAA,EACA,OAAA,CAAA,CAAA;AACA,iBAAA,CAAA;AACA,SANA;AAOA;;AACA,UAAA,QAAA,CAAA,IAAA,KAAA,MAAA,EAAA;AACA,aAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,UAAA,CAAA,aAAA,GAAA,CAAA,CAAA,UAAA,CAAA,aAAA,EACA,OAAA,CAAA;AACA,cAAA,CAAA,CAAA,UAAA,CAAA,aAAA,GAAA,CAAA,CAAA,UAAA,CAAA,aAAA,EACA,OAAA,CAAA,CAAA;AACA,iBAAA,CAAA;AACA,SANA;AAOA;AACA;AAxCA;AAnBA,CAAA","sourcesContent":["<template>\n    <body>\n    <div id=\"mainPage\">\n    <Search\n        @search-book=\"searchBook\"\n        @sort-key=\"sortBooks\"\n    />\n    <book-results :books=\"books\"></book-results>\n    </div>\n    </body>\n</template>\n\n<script>\nimport Search from '@/components/Search'\nimport BookResults from '@/components/BookResults'\nimport axios from \"axios\";\nexport default {\n    components: {\n    Search,\n    'book-results': BookResults,\n    },\n    data: function() {\n    return {\n        books: [],\n        sKey: ''\n    }\n},\n    mounted(){\n        if (sessionStorage.getItem(\"books\")!=null){\n            this.books = JSON.parse(sessionStorage.getItem(\"books\"))\n        }\n    },\n    beforeDestroy() {\n            sessionStorage.setItem(\"books\", JSON.stringify(this.books))\n    },\n    methods: {\n        searchBook(inputBook){\n            let queryURL = 'https://www.googleapis.com/books/v1/volumes?q=' + inputBook\n            axios.get(queryURL).then((data) => {\n            this.books = data.data.items;\n        }).then(() => {\n            this.results = true\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n        },\n        sortBooks(inputKey){\n            if (inputKey.name === 'Название'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.title > b.volumeInfo.title)\n                        return 1\n                    if (a.volumeInfo.title < b.volumeInfo.title)\n                        return -1\n                    return 0\n                })\n            }\n            if (inputKey.name === 'Автор'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.authors > b.volumeInfo.authors)\n                        return 1\n                    if (a.volumeInfo.authors < b.volumeInfo.authors)\n                        return -1\n                    return 0\n                })\n            }\n            if (inputKey.name === 'Дата'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.publishedDate > b.volumeInfo.publishedDate)\n                        return 1\n                    if (a.volumeInfo.publishedDate < b.volumeInfo.publishedDate)\n                        return -1\n                    return 0\n                })\n            }\n        }\n    \n    }\n}\n</script>\n\n<style>\n    #mainPage{\n        background: rgb(236, 236, 236);\n    }\n    body {\n    margin: 0;\n    }\n</style>\n"],"sourceRoot":"src/views"}]}