{"remainingRequest":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js!/home/roman/Документы/VueAuthapp-master/client/authapp/src/router/index.js","dependencies":[{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/src/router/index.js","mtime":1610026697257},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IEZhdm9yaXRlIGZyb20gIi4uL3ZpZXdzL0Zhdm9yaXRlLnZ1ZSI7CmltcG9ydCBNYWluIGZyb20gIi4uL3ZpZXdzL01haW5QYWdlLnZ1ZSI7CmltcG9ydCBCb29rUGFnZSBmcm9tICIuLi92aWV3cy9Cb29rUGFnZS52dWUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICIvZmF2b3JpdGUiLAogIG5hbWU6ICJmYXZvcml0ZSIsCiAgY29tcG9uZW50OiBGYXZvcml0ZSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAiL2hvbWUiLAogIG5hbWU6ICJtYWluIiwKICBjb21wb25lbnQ6IE1haW4sCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy9ib29rJywKICBuYW1lOiAnYm9vaycsCiAgcHJvcHM6IHRydWUsCiAgY29tcG9uZW50OiBCb29rUGFnZQp9LCB7CiAgcGF0aDogIi8iLAogIG5hbWU6ICJsb2dpbiIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9sb2dpbi52dWUiKTsKICB9Cn0sIHsKICBwYXRoOiAiL3JlZ2lzdGVyIiwKICBuYW1lOiAicmVnaXN0ZXIiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvcmVnaXN0ZXIudnVlIik7CiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICJoaXN0b3J5IiwKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNBdXRoOwogIH0pKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpID09IG51bGwpIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogIi8iCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/roman/Документы/VueAuthapp-master/client/authapp/src/router/index.js"],"names":["Vue","VueRouter","Favorite","Main","BookPage","use","routes","path","name","component","meta","requiresAuth","props","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","localStorage","getItem"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,SAAR;AAEA,IAAMK,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAEP,QAHb;AAIEQ,EAAAA,IAAI,EAAE;AACJC,IAAAA,YAAY,EAAE;AADV;AAJR,CADa,EASb;AACEJ,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN,IAHb;AAIEO,EAAAA,IAAI,EAAE;AACJC,IAAAA,YAAY,EAAE;AADV;AAJR,CATa,EAiBb;AACIJ,EAAAA,IAAI,EAAE,OADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGII,EAAAA,KAAK,EAAE,IAHX;AAIIH,EAAAA,SAAS,EAAEL;AAJf,CAjBa,EAuBb;AACEG,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAHb,CAvBa,EA4Bb;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,uBAAP,CAAN;AAAA;AAHb,CA5Ba,CAAf;AAmCA,IAAMI,MAAM,GAAG,IAAIZ,SAAJ,CAAc;AAC3Ba,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BZ,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAO,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACf,IAAP,CAAYC,YAAhB;AAAA,GAAtB,CAAJ,EAAyD;AACvD,QAAIe,YAAY,CAACC,OAAb,CAAqB,KAArB,KAA+B,IAAnC,EAAyC;AACvCL,MAAAA,IAAI,CAAC;AACHf,QAAAA,IAAI,EAAE;AADH,OAAD,CAAJ;AAGD,KAJD,MAIO;AACLe,MAAAA,IAAI;AACL;AACF,GARD,MAQO;AACLA,IAAAA,IAAI;AACL;AACF,CAZD;AAcA,eAAeT,MAAf","sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Favorite from \"../views/Favorite.vue\";\nimport Main from \"../views/MainPage.vue\";\nimport BookPage from \"../views/BookPage.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/favorite\",\n    name: \"favorite\",\n    component: Favorite,\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: \"/home\",\n    name: \"main\",\n    component: Main,\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n      path: '/book',\n      name: 'book',\n      props: true,\n      component: BookPage\n  },\n  {\n    path: \"/\",\n    name: \"login\",\n    component: () => import(\"../views/login.vue\")\n  },\n  {\n    path: \"/register\",\n    name: \"register\",\n    component: () => import(\"../views/register.vue\")\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (localStorage.getItem(\"jwt\") == null) {\n      next({\n        path: \"/\"\n      });\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}