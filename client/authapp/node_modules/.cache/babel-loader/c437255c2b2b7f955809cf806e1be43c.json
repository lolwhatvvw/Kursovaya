{"remainingRequest":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js!/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roman/Документы/VueAuthapp-master/client/authapp/src/components/BookItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/src/components/BookItems.vue","mtime":1610093602871},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9yb21hbi9cdTA0MTRcdTA0M0VcdTA0M0FcdTA0NDNcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NEIvVnVlQXV0aGFwcC1tYXN0ZXIvY2xpZW50L2F1dGhhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlSnd0RGVjb2RlIGZyb20gInZ1ZS1qd3QtZGVjb2RlIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBib29rOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHVwZGF0ZWQ6IGZhbHNlCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBtYWluOiBmdW5jdGlvbiBtYWluKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aC5pbmRleE9mKCcvaG9tZScpID09PSAwOwogICAgfSwKICAgIGZhdm9yaXRlOiBmdW5jdGlvbiBmYXZvcml0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZignL2Zhdm9yaXRlJykgPT09IDA7CiAgICB9LAogICAgdXBkYXRlRmF2b3JpdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVGYXZvcml0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHRva2VuLCBkZWNvZGVkLCBsb2dpbiwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKTsKICAgICAgICAgICAgICAgIGRlY29kZWQgPSBWdWVKd3REZWNvZGUuZGVjb2RlKHRva2VuKTsKICAgICAgICAgICAgICAgIGxvZ2luID0gewogICAgICAgICAgICAgICAgICBlbWFpbDogZGVjb2RlZC5lbWFpbCwKICAgICAgICAgICAgICAgICAgZmF2b3JpdGU6IHRoaXMuYm9vawogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGh0dHAucG9zdCgiL3VzZXIvbWUiLCBsb2dpbik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZhdm9yaXRlKCkgewogICAgICAgIHJldHVybiBfdXBkYXRlRmF2b3JpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZUZhdm9yaXRlOwogICAgfSgpLAogICAgZGVsZXRlRmF2b3JpdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9kZWxldGVGYXZvcml0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdyZW1vdmUnLCB0aGlzLmJvb2spOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBkZWxldGVGYXZvcml0ZSgpIHsKICAgICAgICByZXR1cm4gX2RlbGV0ZUZhdm9yaXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkZWxldGVGYXZvcml0ZTsKICAgIH0oKQogIH0KfTs="},{"version":3,"sources":["BookItems.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,YAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,IALA,kBAKA;AACA,aAAA;AACA,QAAA,OAAA,EAAA;AADA,OAAA;AAGA;AATA,GADA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,IAAA,EAAA,gBAAA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,OAAA,MAAA,CAAA;AACA,KAHA;AAIA,IAAA,QAAA,EAAA,oBAAA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,WAAA,MAAA,CAAA;AACA,KANA;AAOA,IAAA,cAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,gBAAA,KAVA,GAUA,YAAA,CAAA,OAAA,CAAA,KAAA,CAVA;AAWA,gBAAA,OAXA,GAWA,YAAA,CAAA,MAAA,CAAA,KAAA,CAXA;AAYA,gBAAA,KAZA,GAYA;AACA,kBAAA,KAAA,EAAA,OAAA,CAAA,KADA;AAEA,kBAAA,QAAA,EAAA,KAAA;AAFA,iBAZA;AAAA;AAAA,uBAgBA,KAAA,KAAA,CAAA,IAAA,CAAA,UAAA,EAAA,KAAA,CAhBA;;AAAA;AAgBA,gBAAA,QAhBA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAkBA,gBAAA,OAAA,CAAA,GAAA,CAAA,YAAA,QAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAqBA,IAAA,cArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA,qBAAA,KAAA,CAAA,QAAA,EAAA,KAAA,IAAA;;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAZA,CAAA","sourcesContent":["<template>\n    <div class = \"card\">\n        <div class=\"cover\">\n            <img v-if=\"book.volumeInfo.imageLinks\" :src=\"book.volumeInfo.imageLinks.thumbnail\"/>\n            <img v-else src=\"/src/assets/books.png\">\n        </div>\n        <a :href=\"book.volumeInfo.infoLink\" class=\"bigLink\">Читать</a>\n        <router-link tag=\"a\" class=\"link\" :to=\"{name: 'book', params: {book: book}}\">Описание</router-link>\n        <div v-if=\"main()\">\n            <div @click=\"updateFavorite\">add to favorite</div>\n        </div>\n        <div v-if=\"favorite()\">\n            <div @click=\"deleteFavorite\">delete</div>\n        </div>\n        <div class = \"description\">\n            <p class=\"title\">{{book.volumeInfo.title}}</p>\n            <hr class=\"line\">\n        <div class=\"author\" v-for=\"author in book.volumeInfo.authors\" :key=\"author.id\" >\n            {{author}}</div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport VueJwtDecode from \"vue-jwt-decode\";\nexport default {\n    props: {\n        book: {\n            type: Object,\n            required: true\n        },\n        data() {\n            return{\n                updated: false\n            }\n        }\n    },\n    methods:{\n        main: function() {\n            return this.$route.path.indexOf('/home') === 0\n        },\n        favorite: function() {\n            return this.$route.path.indexOf('/favorite') === 0\n        },\n        async updateFavorite() {\n        try {\n            \n            let token = localStorage.getItem(\"jwt\");\n            let decoded = VueJwtDecode.decode(token);\n            const login = {\n                email: decoded.email,\n                favorite: this.book\n            }\n            let response = await this.$http.post(\"/user/me\", login);\n      } catch (err) {\n        console.log(err.response);\n      }\n    },\n    async deleteFavorite() {\n        this.$emit('remove', this.book);\n        \n    }\n}\n}\n</script>\n<style scoped>\n.card {\n    font-family: \"Abril Fatface\", serif;\n    background: rgb(235, 235, 235);\n    width: 330px;\n    height: 390px;\n    box-shadow: 0 0 20px #aaa;\n    margin: 25px;\n    padding: 10px 10px 0 10px;\n    transition: height 1s;\n}\n\n\n.cover {\n    border: 2px solid gray;\n    height: 60%;\n    overflow: hidden;\n}\n.description{\n    margin-top: 5px;\n    height: 30%;\n    text-align: center;\n    text-overflow: ellipsis;\n    overflow: auto;\n}\n.bigLink{\n    font-size: 13px;\n    margin-right: 5px;\n    color: rgb(100, 100, 100);\n    text-decoration: none;\n}\n.bigLink:visited{\n    color: rgb(100, 100, 100);\n}\n.link{\n    font-size: 13px;\n    padding-left: 5px;\n    border-left: 1px solid black;\n    color: rgb(100, 100, 100);\n    text-decoration: none;\n}\n.link:visited{\n    color: rgb(100, 100, 100);\n}\n.cover img {\n    width: 100%;\n}\n.line{\n    border: none;\n    height: 1px;\n    width: 30%;\n    background-color: rgb(194, 194, 194);\n}\n.title{\n    font-size: 18px;\n}\n.author{\n    margin-top: 10px;\n    font-size: 15px;\n}\n</style>"],"sourceRoot":"src/components"}]}