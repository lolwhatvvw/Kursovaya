{"remainingRequest":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/MainPage.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/MainPage.vue","mtime":1610005814911},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNtYWluUGFnZXsKICAgIGJhY2tncm91bmQ6IHJnYigyMzYsIDIzNiwgMjM2KTsKfQpib2R5IHsKbWFyZ2luOiAwOwp9Cg=="},{"version":3,"sources":["MainPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA","file":"MainPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <body>\n    <div id=\"mainPage\">\n    <Search\n        @search-book=\"searchBook\"\n        @sort-key=\"sortBooks\"\n    />\n    <book-results :books=\"books\"></book-results>\n    </div>\n    </body>\n</template>\n\n<script>\nimport Search from '@/components/Search'\nimport BookResults from '@/components/BookResults'\nimport axios from \"axios\";\nexport default {\n    components: {\n    Search,\n    'book-results': BookResults,\n    },\n    data: function() {\n    return {\n        books: [],\n        sKey: ''\n    }\n},\nmounted(){\n        if (sessionStorage.getItem(\"books\")!=null){\n            this.books = JSON.parse(sessionStorage.getItem(\"books\"))\n        \n        }\n    },\n\n    methods: {\n        searchBook(inputBook){\n            let queryURL = 'https://www.googleapis.com/books/v1/volumes?q=' + inputBook\n            axios.get(queryURL).then((data) => {\n                console.log(data.data);\n            this.books = data.body.items;\n        }).then(() => {\n            this.results = true\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n        },\n        sortBooks(inputKey){\n            if (inputKey.name === 'Название'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.title > b.volumeInfo.title)\n                        return 1\n                    if (a.volumeInfo.title < b.volumeInfo.title)\n                        return -1\n                    return 0\n                })\n            }\n            if (inputKey.name === 'Автор'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.authors > b.volumeInfo.authors)\n                        return 1\n                    if (a.volumeInfo.authors < b.volumeInfo.authors)\n                        return -1\n                    return 0\n                })\n            }\n            if (inputKey.name === 'Дата'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.publishedDate > b.volumeInfo.publishedDate)\n                        return 1\n                    if (a.volumeInfo.publishedDate < b.volumeInfo.publishedDate)\n                        return -1\n                    return 0\n                })\n            }\n        }\n    \n    }\n}\n</script>\n\n<style>\n    #mainPage{\n        background: rgb(236, 236, 236);\n    }\n    body {\n    margin: 0;\n    }\n</style>\n"]}]}