{"remainingRequest":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/MainPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/MainPage.vue","mtime":1610081190342},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2ggZnJvbSAnQC9jb21wb25lbnRzL1NlYXJjaCcKaW1wb3J0IEJvb2tSZXN1bHRzIGZyb20gJ0AvY29tcG9uZW50cy9Cb29rUmVzdWx0cycKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgU2VhcmNoLAogICAgJ2Jvb2stcmVzdWx0cyc6IEJvb2tSZXN1bHRzLAogICAgfSwKICAgIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgICBib29rczogW10sCiAgICAgICAgc0tleTogJycKICAgIH0KfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYm9va3MiKSE9bnVsbCl7CiAgICAgICAgICAgIHRoaXMuYm9va3MgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImJvb2tzIikpCiAgICAgICAgfQogICAgfSwKICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImJvb2tzIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5ib29rcykpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHNlYXJjaEJvb2soaW5wdXRCb29rKXsKICAgICAgICAgICAgbGV0IHF1ZXJ5VVJMID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2Jvb2tzL3YxL3ZvbHVtZXM/cT0nICsgaW5wdXRCb29rCiAgICAgICAgICAgIGF4aW9zLmdldChxdWVyeVVSTCkudGhlbigoZGF0YSkgPT4gewogICAgICAgICAgICB0aGlzLmJvb2tzID0gZGF0YS5kYXRhLml0ZW1zOwogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLnJlc3VsdHMgPSB0cnVlCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHNvcnRCb29rcyhpbnB1dEtleSl7CiAgICAgICAgICAgIGlmIChpbnB1dEtleS5uYW1lID09PSAn0J3QsNC30LLQsNC90LjQtScpewogICAgICAgICAgICAgICAgdGhpcy5ib29rcy5zb3J0KChhLGIpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoYS52b2x1bWVJbmZvLnRpdGxlID4gYi52b2x1bWVJbmZvLnRpdGxlKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMQogICAgICAgICAgICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8udGl0bGUgPCBiLnZvbHVtZUluZm8udGl0bGUpCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMQogICAgICAgICAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpbnB1dEtleS5uYW1lID09PSAn0JDQstGC0L7RgCcpewogICAgICAgICAgICAgICAgdGhpcy5ib29rcy5zb3J0KChhLGIpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoYS52b2x1bWVJbmZvLmF1dGhvcnMgPiBiLnZvbHVtZUluZm8uYXV0aG9ycykKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEKICAgICAgICAgICAgICAgICAgICBpZiAoYS52b2x1bWVJbmZvLmF1dGhvcnMgPCBiLnZvbHVtZUluZm8uYXV0aG9ycykKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlucHV0S2V5Lm5hbWUgPT09ICfQlNCw0YLQsCcpewogICAgICAgICAgICAgICAgdGhpcy5ib29rcy5zb3J0KChhLGIpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoYS52b2x1bWVJbmZvLnB1Ymxpc2hlZERhdGUgPiBiLnZvbHVtZUluZm8ucHVibGlzaGVkRGF0ZSkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEKICAgICAgICAgICAgICAgICAgICBpZiAoYS52b2x1bWVJbmZvLnB1Ymxpc2hlZERhdGUgPCBiLnZvbHVtZUluZm8ucHVibGlzaGVkRGF0ZSkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAKICAgIH0KfQo="},{"version":3,"sources":["MainPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"MainPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <body>\n    <div id=\"mainPage\">\n    <Search\n        @search-book=\"searchBook\"\n        @sort-key=\"sortBooks\"\n    />\n    <book-results :books=\"books\"></book-results>\n    </div>\n    </body>\n</template>\n\n<script>\nimport Search from '@/components/Search'\nimport BookResults from '@/components/BookResults'\nimport axios from \"axios\";\nexport default {\n    components: {\n    Search,\n    'book-results': BookResults,\n    },\n    data: function() {\n    return {\n        books: [],\n        sKey: ''\n    }\n},\n    mounted(){\n        if (sessionStorage.getItem(\"books\")!=null){\n            this.books = JSON.parse(sessionStorage.getItem(\"books\"))\n        }\n    },\n    beforeDestroy() {\n            sessionStorage.setItem(\"books\", JSON.stringify(this.books))\n    },\n    methods: {\n        searchBook(inputBook){\n            let queryURL = 'https://www.googleapis.com/books/v1/volumes?q=' + inputBook\n            axios.get(queryURL).then((data) => {\n            this.books = data.data.items;\n        }).then(() => {\n            this.results = true\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n        },\n        sortBooks(inputKey){\n            if (inputKey.name === 'Название'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.title > b.volumeInfo.title)\n                        return 1\n                    if (a.volumeInfo.title < b.volumeInfo.title)\n                        return -1\n                    return 0\n                })\n            }\n            if (inputKey.name === 'Автор'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.authors > b.volumeInfo.authors)\n                        return 1\n                    if (a.volumeInfo.authors < b.volumeInfo.authors)\n                        return -1\n                    return 0\n                })\n            }\n            if (inputKey.name === 'Дата'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.publishedDate > b.volumeInfo.publishedDate)\n                        return 1\n                    if (a.volumeInfo.publishedDate < b.volumeInfo.publishedDate)\n                        return -1\n                    return 0\n                })\n            }\n        }\n    \n    }\n}\n</script>\n\n<style>\n    #mainPage{\n        background: rgb(236, 236, 236);\n    }\n    body {\n    margin: 0;\n    }\n</style>\n"]}]}