{"remainingRequest":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/MainPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/MainPage.vue","mtime":1610005814911},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2ggZnJvbSAnQC9jb21wb25lbnRzL1NlYXJjaCcKaW1wb3J0IEJvb2tSZXN1bHRzIGZyb20gJ0AvY29tcG9uZW50cy9Cb29rUmVzdWx0cycKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgU2VhcmNoLAogICAgJ2Jvb2stcmVzdWx0cyc6IEJvb2tSZXN1bHRzLAogICAgfSwKICAgIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgICBib29rczogW10sCiAgICAgICAgc0tleTogJycKICAgIH0KfSwKbW91bnRlZCgpewogICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJib29rcyIpIT1udWxsKXsKICAgICAgICAgICAgdGhpcy5ib29rcyA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYm9va3MiKSkKICAgICAgICAKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBzZWFyY2hCb29rKGlucHV0Qm9vayl7CiAgICAgICAgICAgIGxldCBxdWVyeVVSTCA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9ib29rcy92MS92b2x1bWVzP3E9JyArIGlucHV0Qm9vawogICAgICAgICAgICBheGlvcy5nZXQocXVlcnlVUkwpLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7CiAgICAgICAgICAgIHRoaXMuYm9va3MgPSBkYXRhLmJvZHkuaXRlbXM7CiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMucmVzdWx0cyA9IHRydWUKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgc29ydEJvb2tzKGlucHV0S2V5KXsKICAgICAgICAgICAgaWYgKGlucHV0S2V5Lm5hbWUgPT09ICfQndCw0LfQstCw0L3QuNC1Jyl7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tzLnNvcnQoKGEsYikgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8udGl0bGUgPiBiLnZvbHVtZUluZm8udGl0bGUpCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxCiAgICAgICAgICAgICAgICAgICAgaWYgKGEudm9sdW1lSW5mby50aXRsZSA8IGIudm9sdW1lSW5mby50aXRsZSkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlucHV0S2V5Lm5hbWUgPT09ICfQkNCy0YLQvtGAJyl7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tzLnNvcnQoKGEsYikgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8uYXV0aG9ycyA+IGIudm9sdW1lSW5mby5hdXRob3JzKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMQogICAgICAgICAgICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8uYXV0aG9ycyA8IGIudm9sdW1lSW5mby5hdXRob3JzKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTEKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaW5wdXRLZXkubmFtZSA9PT0gJ9CU0LDRgtCwJyl7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tzLnNvcnQoKGEsYikgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8ucHVibGlzaGVkRGF0ZSA+IGIudm9sdW1lSW5mby5wdWJsaXNoZWREYXRlKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMQogICAgICAgICAgICAgICAgICAgIGlmIChhLnZvbHVtZUluZm8ucHVibGlzaGVkRGF0ZSA8IGIudm9sdW1lSW5mby5wdWJsaXNoZWREYXRlKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTEKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIAogICAgfQp9Cg=="},{"version":3,"sources":["MainPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"MainPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <body>\n    <div id=\"mainPage\">\n    <Search\n        @search-book=\"searchBook\"\n        @sort-key=\"sortBooks\"\n    />\n    <book-results :books=\"books\"></book-results>\n    </div>\n    </body>\n</template>\n\n<script>\nimport Search from '@/components/Search'\nimport BookResults from '@/components/BookResults'\nimport axios from \"axios\";\nexport default {\n    components: {\n    Search,\n    'book-results': BookResults,\n    },\n    data: function() {\n    return {\n        books: [],\n        sKey: ''\n    }\n},\nmounted(){\n        if (sessionStorage.getItem(\"books\")!=null){\n            this.books = JSON.parse(sessionStorage.getItem(\"books\"))\n        \n        }\n    },\n\n    methods: {\n        searchBook(inputBook){\n            let queryURL = 'https://www.googleapis.com/books/v1/volumes?q=' + inputBook\n            axios.get(queryURL).then((data) => {\n                console.log(data.data);\n            this.books = data.body.items;\n        }).then(() => {\n            this.results = true\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n        },\n        sortBooks(inputKey){\n            if (inputKey.name === 'Название'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.title > b.volumeInfo.title)\n                        return 1\n                    if (a.volumeInfo.title < b.volumeInfo.title)\n                        return -1\n                    return 0\n                })\n            }\n            if (inputKey.name === 'Автор'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.authors > b.volumeInfo.authors)\n                        return 1\n                    if (a.volumeInfo.authors < b.volumeInfo.authors)\n                        return -1\n                    return 0\n                })\n            }\n            if (inputKey.name === 'Дата'){\n                this.books.sort((a,b) => {\n                    if (a.volumeInfo.publishedDate > b.volumeInfo.publishedDate)\n                        return 1\n                    if (a.volumeInfo.publishedDate < b.volumeInfo.publishedDate)\n                        return -1\n                    return 0\n                })\n            }\n        }\n    \n    }\n}\n</script>\n\n<style>\n    #mainPage{\n        background: rgb(236, 236, 236);\n    }\n    body {\n    margin: 0;\n    }\n</style>\n"]}]}