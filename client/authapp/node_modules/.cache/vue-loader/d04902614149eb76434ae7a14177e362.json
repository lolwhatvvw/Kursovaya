{"remainingRequest":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/Favorite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/src/views/Favorite.vue","mtime":1610096616700},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVKd3REZWNvZGUgZnJvbSAidnVlLWp3dC1kZWNvZGUiOwppbXBvcnQgQm9va1Jlc3VsdHMgZnJvbSAnQC9jb21wb25lbnRzL0Jvb2tSZXN1bHRzJwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6WydmYm9vayddLAogIGNvbXBvbmVudHM6IHsKICAgICdib29rLXJlc3VsdHMnOiBCb29rUmVzdWx0cywKICAgIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IHt9LAogICAgICB1c2VyOiB7fSwKICAgICAgZmF2b3JpdGU6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGRlbGV0ZUZhdm9yaXRlKGJvb2spewogICAgICB0cnkgewogICAgICAgICAgICBsZXQgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiand0Iik7CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXQgZGVjb2RlZCA9IFZ1ZUp3dERlY29kZS5kZWNvZGUodG9rZW4pOwogICAgICAgICAgICBjb25zdCBsb2dpbiA9IHsKICAgICAgICAgICAgICAgIGVtYWlsOiBkZWNvZGVkLmVtYWlsLAogICAgICAgICAgICAgICAgZmF2b3JpdGU6IGJvb2sKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoIi91c2VyL25vdG1lIiwgbG9naW4pOwogICAgICAgICAgICB0aGlzLmZhdm9yaXRlID0gcmVzcG9uc2UuZGF0YS5saXN0LmZhdm9yaXRlOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgICB9CiAgICAgIAogICAgfSwKICAgIGFzeW5jIGdldEZhdm9yaXRlKCkgewogICAgICB0cnl7CiAgICAgICAgbGV0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpOwogICAgICAgIGxldCBkZWNvZGVkID0gVnVlSnd0RGVjb2RlLmRlY29kZSh0b2tlbik7CiAgICAgICAgY29uc3QgbG9naW4gPSB7CiAgICAgICAgICBlbWFpbDogZGVjb2RlZC5lbWFpbAogICAgICAgIH0KICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoIi91c2VyL2Zhdm9yaXRlIiwgbG9naW4pOwogICAgICAgIHRoaXMuZmF2b3JpdGUgPSByZXNwb25zZS5kYXRhLmxpc3QuZmF2b3JpdGU7CiAgICAgICAgfQogICAgICBjYXRjaHt9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRGYXZvcml0ZSgpOwogIH0KfTsK"},{"version":3,"sources":["Favorite.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Favorite.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <body>\n    <router-link tag=\"a\" class=\"link\" :to=\"{name: 'main'}\">Home</router-link>\n    <book-results :books=\"favorite\" @remove=\"deleteFavorite\"></book-results>\n  </body>\n</template>\n\n<script>\nimport VueJwtDecode from \"vue-jwt-decode\";\nimport BookResults from '@/components/BookResults'\nexport default {\n  props:['fbook'],\n  components: {\n    'book-results': BookResults,\n    },\n  data() {\n    return {\n      book: {},\n      user: {},\n      favorite: [],\n    };\n  },\n  methods: {\n    async deleteFavorite(book){\n      try {\n            let token = localStorage.getItem(\"jwt\");\n            \n            let decoded = VueJwtDecode.decode(token);\n            const login = {\n                email: decoded.email,\n                favorite: book\n            }\n            let response = await this.$http.post(\"/user/notme\", login);\n            this.favorite = response.data.list.favorite;\n      } catch (err) {\n        console.log(err.response);\n      }\n      \n    },\n    async getFavorite() {\n      try{\n        let token = localStorage.getItem(\"jwt\");\n        let decoded = VueJwtDecode.decode(token);\n        const login = {\n          email: decoded.email\n        }\n        let response = await this.$http.post(\"/user/favorite\", login);\n        this.favorite = response.data.list.favorite;\n        }\n      catch{}\n    }\n  },\n  created() {\n    this.getFavorite();\n  }\n};\n</script>\n\n<style scoped></style>\n"]}]}