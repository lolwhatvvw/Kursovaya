{"remainingRequest":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roman/Документы/VueAuthapp-master/client/authapp/src/components/BookItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/src/components/BookItems.vue","mtime":1610093602871},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/Документы/VueAuthapp-master/client/authapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVKd3REZWNvZGUgZnJvbSAidnVlLWp3dC1kZWNvZGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczogewogICAgICAgIGJvb2s6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgZGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuewogICAgICAgICAgICAgICAgdXBkYXRlZDogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBtYWluOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZignL2hvbWUnKSA9PT0gMAogICAgICAgIH0sCiAgICAgICAgZmF2b3JpdGU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aC5pbmRleE9mKCcvZmF2b3JpdGUnKSA9PT0gMAogICAgICAgIH0sCiAgICAgICAgYXN5bmMgdXBkYXRlRmF2b3JpdGUoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKTsKICAgICAgICAgICAgbGV0IGRlY29kZWQgPSBWdWVKd3REZWNvZGUuZGVjb2RlKHRva2VuKTsKICAgICAgICAgICAgY29uc3QgbG9naW4gPSB7CiAgICAgICAgICAgICAgICBlbWFpbDogZGVjb2RlZC5lbWFpbCwKICAgICAgICAgICAgICAgIGZhdm9yaXRlOiB0aGlzLmJvb2sKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoIi91c2VyL21lIiwgbG9naW4pOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZGVsZXRlRmF2b3JpdGUoKSB7CiAgICAgICAgdGhpcy4kZW1pdCgncmVtb3ZlJywgdGhpcy5ib29rKTsKICAgICAgICAKICAgIH0KfQp9Cg=="},{"version":3,"sources":["BookItems.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"BookItems.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class = \"card\">\n        <div class=\"cover\">\n            <img v-if=\"book.volumeInfo.imageLinks\" :src=\"book.volumeInfo.imageLinks.thumbnail\"/>\n            <img v-else src=\"/src/assets/books.png\">\n        </div>\n        <a :href=\"book.volumeInfo.infoLink\" class=\"bigLink\">Читать</a>\n        <router-link tag=\"a\" class=\"link\" :to=\"{name: 'book', params: {book: book}}\">Описание</router-link>\n        <div v-if=\"main()\">\n            <div @click=\"updateFavorite\">add to favorite</div>\n        </div>\n        <div v-if=\"favorite()\">\n            <div @click=\"deleteFavorite\">delete</div>\n        </div>\n        <div class = \"description\">\n            <p class=\"title\">{{book.volumeInfo.title}}</p>\n            <hr class=\"line\">\n        <div class=\"author\" v-for=\"author in book.volumeInfo.authors\" :key=\"author.id\" >\n            {{author}}</div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport VueJwtDecode from \"vue-jwt-decode\";\nexport default {\n    props: {\n        book: {\n            type: Object,\n            required: true\n        },\n        data() {\n            return{\n                updated: false\n            }\n        }\n    },\n    methods:{\n        main: function() {\n            return this.$route.path.indexOf('/home') === 0\n        },\n        favorite: function() {\n            return this.$route.path.indexOf('/favorite') === 0\n        },\n        async updateFavorite() {\n        try {\n            \n            let token = localStorage.getItem(\"jwt\");\n            let decoded = VueJwtDecode.decode(token);\n            const login = {\n                email: decoded.email,\n                favorite: this.book\n            }\n            let response = await this.$http.post(\"/user/me\", login);\n      } catch (err) {\n        console.log(err.response);\n      }\n    },\n    async deleteFavorite() {\n        this.$emit('remove', this.book);\n        \n    }\n}\n}\n</script>\n<style scoped>\n.card {\n    font-family: \"Abril Fatface\", serif;\n    background: rgb(235, 235, 235);\n    width: 330px;\n    height: 390px;\n    box-shadow: 0 0 20px #aaa;\n    margin: 25px;\n    padding: 10px 10px 0 10px;\n    transition: height 1s;\n}\n\n\n.cover {\n    border: 2px solid gray;\n    height: 60%;\n    overflow: hidden;\n}\n.description{\n    margin-top: 5px;\n    height: 30%;\n    text-align: center;\n    text-overflow: ellipsis;\n    overflow: auto;\n}\n.bigLink{\n    font-size: 13px;\n    margin-right: 5px;\n    color: rgb(100, 100, 100);\n    text-decoration: none;\n}\n.bigLink:visited{\n    color: rgb(100, 100, 100);\n}\n.link{\n    font-size: 13px;\n    padding-left: 5px;\n    border-left: 1px solid black;\n    color: rgb(100, 100, 100);\n    text-decoration: none;\n}\n.link:visited{\n    color: rgb(100, 100, 100);\n}\n.cover img {\n    width: 100%;\n}\n.line{\n    border: none;\n    height: 1px;\n    width: 30%;\n    background-color: rgb(194, 194, 194);\n}\n.title{\n    font-size: 18px;\n}\n.author{\n    margin-top: 10px;\n    font-size: 15px;\n}\n</style>"]}]}